<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>API · Odrpack.jl</title><meta name="title" content="API · Odrpack.jl"/><meta property="og:title" content="API · Odrpack.jl"/><meta property="twitter:title" content="API · Odrpack.jl"/><meta name="description" content="Documentation for Odrpack.jl."/><meta property="og:description" content="Documentation for Odrpack.jl."/><meta property="twitter:description" content="Documentation for Odrpack.jl."/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">Odrpack.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><span class="tocitem">Examples</span><ul><li><a class="tocitem" href="../examples/explicit-model/">Explicit orthogonal regression</a></li><li><a class="tocitem" href="../examples/implicit-model/">Implicit orthogonal regression</a></li></ul></li><li class="is-active"><a class="tocitem" href>API</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>API</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>API</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/HugoMVale/Odrpack.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/HugoMVale/Odrpack.jl/blob/main/docs/src/api.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="API"><a class="docs-heading-anchor" href="#API">API</a><a id="API-1"></a><a class="docs-heading-anchor-permalink" href="#API" title="Permalink"></a></h1><p>API for <a href="https://github.com/HugoMVale/Odrpack.jl">Odrpack</a>.</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Odrpack.OdrResult" href="#Odrpack.OdrResult"><code>Odrpack.OdrResult</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">OdrResult</code></pre><p>Results of an Orthogonal Distance Regression (ODR) computation.</p><p><strong>Fields</strong></p><ul><li><code>beta::Vector{Float64}</code>: Estimated parameters of the model.</li><li><code>delta::Union{Vector{Float64},Matrix{Float64}}</code>: Differences between the observed and fitted <code>x</code> values.</li><li><code>eps::Union{Vector{Float64},Matrix{Float64}}</code>: Differences between the observed and fitted <code>y</code> values.</li><li><code>xplusd::Union{Vector{Float64},Matrix{Float64}}</code>: Adjusted <code>x</code> values after fitting, <code>x + delta</code>.</li><li><code>yest::Union{Vector{Float64},Matrix{Float64}}</code>: Estimated <code>y</code> values corresponding to the fitted model, <code>y + eps</code>.</li><li><code>sd_beta::Vector{Float64}</code>: Standard deviations of the estimated parameters.</li><li><code>cov_beta::Matrix{Float64}</code>: Covariance matrix of the estimated parameters.</li><li><code>res_var::Float64</code>: Residual variance, indicating the variance of the residuals.</li><li><code>nfev::Int</code>: Number of function evaluations during the fitting process.</li><li><code>njev::Int</code>: Number of Jacobian evaluations during the fitting process.</li><li><code>niter::Int</code>: Number of iterations performed in the optimization process.</li><li><code>irank::Int</code>: Rank of the Jacobian matrix at the solution.</li><li><code>inv_condnum::Float64</code>: Inverse of the condition number of the Jacobian matrix.</li><li><code>info::Int</code>: Status code of the fitting process (e.g., success or failure).</li><li><code>stopreason::String</code>: Message indicating the reason for stopping.</li><li><code>success::Bool</code>: Whether the fitting process was successful.</li><li><code>sum_square::Float64</code>: Sum of squared residuals (including both <code>delta</code> and <code>eps</code>).</li><li><code>sum_square_delta::Float64</code>: Sum of squared differences between observed and fitted <code>x</code> values.</li><li><code>sum_square_eps::Float64</code>: Sum of squared differences between observed and fitted <code>y</code> values.</li><li><code>_iwork::Vector{Int32}</code>: Integer workspace array used internally by <code>odrpack</code>. Typically for advanced debugging.</li><li><code>_rwork::Vector{Float64}</code>: Floating-point workspace array used internally by <code>odrpack</code>. Typically for advanced debugging.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/HugoMVale/Odrpack.jl/blob/d0cbdac6ebe2c752110459ba76504e262c5dfb92/src/Odrpack.jl#L8-L35">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Odrpack.OdrStop" href="#Odrpack.OdrStop"><code>Odrpack.OdrStop</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">OdrStop &lt;: Exception</code></pre><p>Exception to stop the regression.</p><p>This exception can be raised in the model function or its Jacobians to stop the regression process.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/HugoMVale/Odrpack.jl/blob/d0cbdac6ebe2c752110459ba76504e262c5dfb92/src/Odrpack.jl#L62-L69">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Odrpack.Thunk" href="#Odrpack.Thunk"><code>Odrpack.Thunk</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">Thunk</code></pre><p>A mutable container used to pass around the model function, jacobians, and related information without creating a closure. <code>cFunction</code> does not support closures in certain platforms (e.g.,  macOS ARM).</p><p><strong>Fields</strong></p><ul><li><p><code>f!::Function</code>   The main function to be evaluated.</p></li><li><p><code>jac_beta!::Union{Function,Nothing}</code>   Optional Jacobian with respect to parameter(s) <code>β</code>. </p></li><li><p><code>jac_x!::Union{Function,Nothing}</code>   Optional Jacobian with respect to input(s) <code>x</code>. </p></li><li><p><code>x_is_2d::Bool</code>   Whether the input <code>x</code> is treated as a matrix (<code>true</code>) or a vector (<code>false</code>).</p></li><li><p><code>y_is_2d::Bool</code>   Whether the output <code>y = f(x, β)</code> is treated as a matrix (<code>true</code>) or a vector (<code>false</code>).</p></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/HugoMVale/Odrpack.jl/blob/d0cbdac6ebe2c752110459ba76504e262c5dfb92/src/Odrpack.jl#L76-L98">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Odrpack.odr_callback!-Tuple{Ptr{Int32}, Ptr{Int32}, Ptr{Int32}, Ptr{Int32}, Ptr{Int32}, Ptr{Float64}, Ptr{Float64}, Ptr{Int32}, Ptr{Int32}, Ptr{Int32}, Ptr{Float64}, Ptr{Float64}, Ptr{Float64}, Ptr{Int32}, Ptr{Nothing}}" href="#Odrpack.odr_callback!-Tuple{Ptr{Int32}, Ptr{Int32}, Ptr{Int32}, Ptr{Int32}, Ptr{Int32}, Ptr{Float64}, Ptr{Float64}, Ptr{Int32}, Ptr{Int32}, Ptr{Int32}, Ptr{Float64}, Ptr{Float64}, Ptr{Float64}, Ptr{Int32}, Ptr{Nothing}}"><code>Odrpack.odr_callback!</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>Callback function invoked from <code>odrpack</code> to evaluate the model function and, optionally, its Jacobians. The actual julia functions are stored in the <code>Thunk</code> struct, which is passed as a void pointer. This is used to call the appropriate functions without creating closures.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/HugoMVale/Odrpack.jl/blob/d0cbdac6ebe2c752110459ba76504e262c5dfb92/src/Odrpack.jl#L108-L112">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Odrpack.odr_fit-Tuple{Function, VecOrMat{Float64}, VecOrMat{Float64}, Vector{Float64}}" href="#Odrpack.odr_fit-Tuple{Function, VecOrMat{Float64}, VecOrMat{Float64}, Vector{Float64}}"><code>Odrpack.odr_fit</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">odr_fit(f!, xdata, ydata, beta0; kwargs...) -&gt; OdrResult</code></pre><p>Solve a weighted orthogonal distance regression (ODR) problem, also known as errors-in-variables regression.</p><p><strong>Arguments</strong></p><ul><li><code>f!::Function</code>: Function to be fitted, with the signature <code>f!(x, beta, y)</code>. It must modify <code>y</code> in-place to have the same shape as <code>ydata</code>.</li><li><code>xdata::VecOrMat{Float64}</code>: Array of shape <code>(n,)</code> or <code>(n, m)</code> containing the observed values of the explanatory variable(s).</li><li><code>ydata::VecOrMat{Float64}</code>: Array of shape <code>(n,)</code> or <code>(n, q)</code> containing the observed values of the response variable(s). When the model is explicit, <code>ydata</code> must  contain a value for each observation. To ignore specific values (e.g., missing data), set the corresponding entry in <code>weight_y</code> to zero. When the model is implicit, <code>ydata</code> is not used  (but must be defined).</li><li><code>beta0::Vector{Float64}</code>: Array of shape <code>(np,)</code> with the initial guesses of the model parameters, within the optional bounds specified by <code>bounds</code>.</li></ul><p><strong>Keywords</strong></p><ul><li><code>weight_x::Union{Float64,Vector{Float64},Matrix{Float64},Array{Float64,3},Nothing}=nothing</code>: Scalar or array specifying how the errors on <code>xdata</code> are to be weighted. If <code>weight_x</code> is a  scalar, then it is used for all data points. If <code>weight_x</code> is an array of shape <code>(n,)</code> and  <code>m==1</code>, then <code>weight_x[i]</code> represents the weight for <code>xdata[i]</code>. If <code>weight_x</code> is an array of shape <code>(m,)</code>, then it represents the diagonal of the covariant weighting matrix for all data points. If <code>weight_x</code> is an array of shape <code>(m, m)</code>, then it represents the full covariant  weighting matrix for all data points. If <code>weight_x</code> is an array of shape <code>(n, m)</code>, then  <code>weight_x[i, :]</code> represents the diagonal of the covariant weighting matrix for <code>xdata[i, :]</code>. If <code>weight_x</code> is an array of shape <code>(n, m, m)</code>, then <code>weight_x[i, :, :]</code> represents the full covariant weighting matrix for <code>xdata[i, :]</code>. For a comprehensive description of the options, refer to page 26 of the ODRPACK95 guide. By default, <code>weight_x</code> is set to one for all <code>xdata</code> points.</li><li><code>weight_y::Union{Float64,Vector{Float64},Matrix{Float64},Array{Float64,3},Nothing}=nothing</code>: Scalar or array specifying how the errors on <code>ydata</code> are to be weighted. If <code>weight_y</code> is a  scalar, then it is used for all data points. If <code>weight_y</code> is an array of shape <code>(n,)</code> and  <code>q==1</code>, then <code>weight_y[i]</code> represents the weight for <code>ydata[i]</code>. If <code>weight_y</code> is an array of shape <code>(q)</code>, then it represents the diagonal of the covariant weighting matrix for all data points. If <code>weight_y</code> is an array of shape <code>(q, q)</code>, then it represents the full covariant  weighting matrix for all data points. If <code>weight_y</code> is an array of shape <code>(n, q)</code>, then  <code>weight_y[i, :]</code> represents the diagonal of the covariant weighting matrix for <code>ydata[i, :]</code>. If <code>weight_y</code> is an array of shape <code>(n, q, q)</code>, then <code>weight_y[i, :, :]</code> represents the full covariant weighting matrix for <code>ydata[i, :]</code>. For a comprehensive description of the options, refer to page 25 of the ODRPACK95 guide. By default, <code>weight_y</code> is set to one for all <code>ydata</code> points.</li><li><code>bounds::Tuple{Union{Vector{Float64},Nothing},Union{Vector{Float64},Nothing}}=(nothing, nothing)</code>: Tuple of arrays with the same shape as <code>beta0</code>, specifying the lower and upper bounds of the  model parameters. The first array contains the lower bounds, and the second contains the upper bounds. By default, the bounds are set to negative and positive infinity, respectively, for  all elements of <code>beta</code>.</li><li><code>task::Symbol=:explicitODR</code>: Specifies the regression task to be performed. <code>:explicitODR</code> solves an orthogonal distance regression problem with an explicit model. <code>:implicitODR</code> handles models defined implicitly. <code>:OLS</code> performs ordinary least squares fitting.</li><li><code>fix_beta::Union{Vector{Bool},Nothing}=nothing</code>: Array with the same shape as <code>beta0</code>, specifying which elements of <code>beta</code> are to be held fixed. <code>true</code> means the parameter is fixed; <code>false</code> means it is adjustable. By default, all elements of <code>beta</code> are set to <code>false</code>. </li><li><code>fix_x::Union{VecOrMat{Bool},Nothing}=nothing</code>: Array with the same shape as <code>xdata</code>, specifying which elements of <code>xdata</code> are to be held fixed. Alternatively, it can be a rank-1 array of shape <code>(m,)</code> or <code>(n,)</code>, in which case it will be  broadcast along the other axis. <code>true</code> means the element is fixed; <code>false</code> means it is adjustable. By default, in orthogonal distance regression mode, all elements of <code>fix_x</code> are set to <code>false</code>. In ordinary least squares mode (<code>task=:OLS</code>), all <code>xdata</code> values are automatically treated  as fixed.</li><li><code>jac_beta!::Union{Function,Nothing}=nothing</code>: Jacobian of the function to be fitted with respect to <code>beta</code>, with the signature <code>jac_beta!(x, beta, jb)</code>. It must modify the result <code>jb</code> in-place, with shape <code>(n, np, q)</code>. By default, the Jacobian is approximated numerically using the finite difference scheme specified by <code>diff_scheme</code>.</li><li><code>jac_x!::Union{Function,Nothing}=nothing</code>: Jacobian of the function to be fitted with respect to <code>x</code>, with the signature <code>jac_x!(x, beta, jx)</code>. It must modify the result <code>jx</code> in-place, with shape <code>(n, m, q)</code>. By default, the Jacobian is  approximated numerically using the finite difference scheme specified by <code>diff_scheme</code>.</li><li><code>delta0::Union{VecOrMat{Float64},Nothing}=nothing</code>: Array with the same shape as <code>xdata</code>, containing the initial guesses of the errors in the  explanatory variable. By default, <code>delta0</code> is set to zero for all elements of <code>xdata</code>.</li><li><code>diff_scheme::Symbol=:forward</code>: Finite difference scheme used to approximate the Jacobian matrices when the user does not  provide <code>jac_beta!</code> and <code>jac_x!</code>. The default method is forward (<code>:forward</code>) differences. Central (<code>:central</code>) differences are generally more accurate but require one additional <code>f!</code> evaluation per partial derivative.</li><li><code>report::Symbol=:none</code>: Specifies the level of computation reporting. <code>:none</code> disables all output. <code>:short</code> prints  a brief initial and final summary. <code>:long</code> provides a detailed initial and final summary.  <code>:iteration</code> outputs information at each iteration step in addition to the detailed summaries. This is useful for debugging or monitoring progress.</li><li><code>maxit::Integer=50</code>: Maximum number of allowed iterations.</li><li><code>ndigit::Union{Integer,Nothing}=nothing</code>: Number of reliable decimal digits in the values  computed by the model function <code>f!</code> and its Jacobians <code>jac_beta!</code>, and <code>jac_x!</code>. By default, the value is numerically determined by evaluating <code>f!</code>. </li><li><code>taufac::Union{Float64,Nothing}=nothing</code>: Factor ranging from 0 to 1 to initialize the trust region radius. The default value is 1.  Reducing <code>taufac</code> may be appropriate if, at the first iteration, the computed results for the full Gauss-Newton step cause an overflow, or cause <code>beta</code> and/or <code>delta</code> to leave the region of interest. </li><li><code>sstol::Union{Float64,Nothing}=nothing</code>: Factor ranging from 0 to 1 specifying the stopping tolerance for the sum of the squares  convergence. The default value is <code>eps()^(1/2)</code>, where <code>eps()</code> is the machine precision in  <code>Float64</code>.</li><li><code>partol::Union{Float64,Nothing}=nothing</code>: Factor ranging from 0 to 1 specifying the stopping tolerance for parameter convergence  (i.e., <code>beta</code> and <code>delta</code>). When the model is explicit, the default value is <code>eps()^(2/3)</code>,  and when the model is implicit, the default value is <code>eps()^(1/3)</code>, where <code>eps()</code> is the machine precision in <code>Float64</code>.</li><li><code>step_beta::Union{Vector{Float64},Nothing}=nothing</code>: Array with the same shape as <code>beta0</code> containing the <em>relative</em> step sizes used to compute the finite difference derivatives with respect to the model parameters. By default, the step size is set internally based on the value of <code>ndigit</code> and the type of finite differences specified by <code>diff_scheme</code>. For additional details, refer to pages 31 and 78 of the ODRPACK95 guide.</li><li><code>step_delta::Union{VecOrMat{Float64},Nothing}=nothing</code>: Array with the same shape as <code>xdata</code>, containing the <em>relative</em> step sizes used to compute the finite difference derivatives with respect to the errors in the explanatory variable.  Alternatively, it can be a rank-1 array of shape <code>(m,)</code> or <code>(n,)</code>, in which case it will be  broadcast along the other axis. By default, step size is set internally based on the value of <code>ndigit</code> and the type of finite differences specified by <code>diff_scheme</code>. For additional  details, refer to pages 31 and 78 of the ODRPACK95 guide.</li><li><code>scale_beta::Union{Vector{Float64},Nothing}=nothing</code>: Array with the same shape as <code>beta0</code> containing the scale values of the model parameters.  Scaling is used to improve the numerical stability of the regression, but does not affect the problem specification. Scaling should not be confused with the weighting matrices <code>weight_x</code>  and <code>weight_y</code>. By default, the scale is set internally based on the relative magnitudes of  <code>beta</code>. For further details, refer to pages 32 and 84 of the ODRPACK95 guide.</li><li><code>scale_delta::Union{VecOrMat{Float64},Nothing}=nothing</code>: Array with the same shape as <code>xdata</code>, containing the scale values of the errors in the  explanatory variable. Alternatively, it can be a rank-1 array of shape <code>(m,)</code> or <code>(n,)</code>, in  which case it will be broadcast along the other axis. Scaling is used to improve the numerical stability of the regression, but does not affect the problem specification. Scaling should  not be confused with the weighting matrices <code>weight_x</code> and <code>weight_y</code>. By default, the scale  is set internally based on the relative magnitudes of <code>xdata</code>. For further details, refer to  pages 32 and 85 of the ODRPACK95 guide.</li><li><code>rptfile::Union{String,Nothing}=nothing</code>: File name for storing the computation reports, as defined by <code>report</code>. By default, the reports are sent to standard output.</li><li><code>errfile::Union{String,Nothing}=nothing</code>: File name for storing the error reports, as defined by <code>report</code>. By default, the reports are  sent to standard output.</li></ul><p><strong>Returns</strong></p><ul><li><code>OdrResult</code>: An object containing the results of the regression.</li></ul><p><strong>References</strong></p><p>[1] Jason W. Zwolak, Paul T. Boggs, and Layne T. Watson.     Algorithm 869: ODRPACK95: A weighted orthogonal distance regression code      with bound constraints. ACM Trans. Math. Softw. 33, 4 (August 2007), 27-es.     https://doi.org/10.1145/1268776.1268782</p><p>[2] Jason W. Zwolak, Paul T. Boggs, and Layne T. Watson. User&#39;s Reference     Guide for ODRPACK95, 2005.     https://github.com/HugoMVale/odrpack95/blob/main/original/Doc/guide.pdf</p><p><strong>Examples</strong></p><pre><code class="nohighlight hljs">using Odrpack

function f!(x::Vector{Float64}, beta::Vector{Float64}, y::Vector{Float64})
    y .= beta[1] .* exp.(beta[2] .* x)
    return nothing
end

xdata = [0.982, 1.998, 4.978, 6.01]
ydata = [2.7, 7.4, 148.0, 403.0]

beta0 = [2.0, 0.5]
bounds = ([0.0, 0.0], [10.0, 0.9])

sol = odr_fit(
    f!,
    xdata,
    ydata,
    beta0,
    bounds=bounds,
    # rptfile=&quot;test_output.txt&quot;,
    # report=:long
)

println(&quot;Optimized β    :&quot;, sol.beta)
println(&quot;Optimized δ    :&quot;, sol.delta)
println(&quot;Optimized x + δ:&quot;, sol.xplusd)
 </code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/HugoMVale/Odrpack.jl/blob/d0cbdac6ebe2c752110459ba76504e262c5dfb92/src/Odrpack.jl#L171-L351">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Odrpack.Auxiliary" href="#Odrpack.Auxiliary"><code>Odrpack.Auxiliary</code></a> — <span class="docstring-category">Module</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>Auxiliary functions for <code>odrpack</code>.</p><p>This module provides a Julia interface to the auxiliary routines from the Fortran <a href="https://github.com/HugoMVale/odrpack95"><code>odrpack</code></a> library.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/HugoMVale/Odrpack.jl/blob/d0cbdac6ebe2c752110459ba76504e262c5dfb92/src/Auxiliary.jl#L1-L6">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Odrpack.Auxiliary.close_file-Tuple{Ref{Int32}}" href="#Odrpack.Auxiliary.close_file-Tuple{Ref{Int32}}"><code>Odrpack.Auxiliary.close_file</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">close_file(lun) -&gt; Int32</code></pre><p>Close a file associated with a specified logical unit number.</p><p><strong>Arguments</strong></p><ul><li><code>lun::Ref{Int32}</code>: The logical unit number of the file to close.</li></ul><p><strong>Returns</strong></p><ul><li><code>Int32</code>: An error code (compiler dependent). A return value of <code>0</code> typically indicates successful closure.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/HugoMVale/Odrpack.jl/blob/d0cbdac6ebe2c752110459ba76504e262c5dfb92/src/Auxiliary.jl#L256-L266">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Odrpack.Auxiliary.loc_iwork-Tuple{Integer, Integer, Integer}" href="#Odrpack.Auxiliary.loc_iwork-Tuple{Integer, Integer, Integer}"><code>Odrpack.Auxiliary.loc_iwork</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">loc_iwork(m, q, np) -&gt; Iworkidx</code></pre><p>Get storage locations within the integer work space.</p><p><strong>Arguments</strong></p><ul><li><code>m::Integer</code>: Number of columns of data in the explanatory variable.</li><li><code>q::Integer</code>: Number of responses per observation.</li><li><code>np::Integer</code>: Number of function parameters.</li></ul><p><strong>Returns</strong></p><ul><li><code>Iworkidx</code>: A structure containing the 0-based indexes of the integer work array.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/HugoMVale/Odrpack.jl/blob/d0cbdac6ebe2c752110459ba76504e262c5dfb92/src/Auxiliary.jl#L107-L119">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Odrpack.Auxiliary.loc_rwork-Tuple{Integer, Integer, Integer, Integer, Integer, Integer, Bool}" href="#Odrpack.Auxiliary.loc_rwork-Tuple{Integer, Integer, Integer, Integer, Integer, Integer, Bool}"><code>Odrpack.Auxiliary.loc_rwork</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">loc_rwork(n, m, q, np, ldwe, ld2we, isodr) -&gt; Rworkidx</code></pre><p>Get storage locations within the real work space.</p><p><strong>Arguments</strong></p><ul><li><code>n::Integer</code>: Number of observations.</li><li><code>m::Integer</code>: Number of columns of data in the explanatory variable.</li><li><code>q::Integer</code>: Number of responses per observation.</li><li><code>np::Integer</code>: Number of function parameters.</li><li><code>ldwe::Integer</code>: Leading dimension of the <code>we</code> array.</li><li><code>ld2we::Integer</code>: Second dimension of the <code>we</code> array.</li><li><code>isodr::Bool</code>: Indicates whether the solution is by ODR (<code>true</code>) or by OLS (<code>false</code>).</li></ul><p><strong>Returns</strong></p><ul><li><code>Rworkidx</code>: A structure containing the 0-based indexes of the real work array.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/HugoMVale/Odrpack.jl/blob/d0cbdac6ebe2c752110459ba76504e262c5dfb92/src/Auxiliary.jl#L192-L208">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Odrpack.Auxiliary.open_file-Tuple{AbstractString, Ref{Int32}}" href="#Odrpack.Auxiliary.open_file-Tuple{AbstractString, Ref{Int32}}"><code>Odrpack.Auxiliary.open_file</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">open_file(filename, lun) -&gt; Int32</code></pre><p>Open a new file associated with a specified logical unit number.</p><p><strong>Arguments</strong></p><ul><li><code>filename::AbstractString</code>: String containing the file name.</li><li><code>lun::Ref{Cint}</code>: Logical unit number. This value will be modified by the function.</li></ul><p><strong>Returns</strong></p><ul><li><code>Int32</code>: Error code (compiler dependent). A value of <code>0</code> typically indicates success.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/HugoMVale/Odrpack.jl/blob/d0cbdac6ebe2c752110459ba76504e262c5dfb92/src/Auxiliary.jl#L229-L240">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Odrpack.Auxiliary.stop_message-Tuple{Integer}" href="#Odrpack.Auxiliary.stop_message-Tuple{Integer}"><code>Odrpack.Auxiliary.stop_message</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">stop_message(info) -&gt; String</code></pre><p>Return a human-readable message based on the stopping condition returned by <code>odrpack</code> in  the <code>info</code> argument of the result.</p><p><strong>Arguments</strong></p><ul><li><code>info::Integer</code>: value of the <code>info</code> argument returned by <code>odrpack</code>. This value is used to determine the stopping condition.</li></ul><p><strong>Returns</strong></p><ul><li><code>::String</code>: human-readable string describing the stopping condition.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/HugoMVale/Odrpack.jl/blob/d0cbdac6ebe2c752110459ba76504e262c5dfb92/src/Auxiliary.jl#L16-L28">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Odrpack.Auxiliary.workspace_dimensions-Tuple{Integer, Integer, Integer, Integer, Bool}" href="#Odrpack.Auxiliary.workspace_dimensions-Tuple{Integer, Integer, Integer, Integer, Bool}"><code>Odrpack.Auxiliary.workspace_dimensions</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">workspace_dimensions(n, m, q, np, isodr) -&gt; Tuple{Int32, Int32}</code></pre><p>Calculate the dimensions of the workspace arrays required by the underlying Fortran library.</p><p><strong>Arguments</strong></p><ul><li><code>n::Integer</code>: Number of observations.</li><li><code>m::Integer</code>: Number of columns of data in the explanatory variable.</li><li><code>q::Integer</code>: Number of responses per observation.</li><li><code>np::Integer</code>: Number of function parameters.</li><li><code>isodr::Bool</code>: Variable designating whether the solution is by ODR (<code>true</code>) or by OLS (<code>false</code>).</li></ul><p><strong>Returns</strong></p><ul><li><code>Tuple{Int32, Int32}</code>: A tuple containing the lengths of the real and integer work arrays  (<code>lrwork</code>, <code>liwork</code>).</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/HugoMVale/Odrpack.jl/blob/d0cbdac6ebe2c752110459ba76504e262c5dfb92/src/Auxiliary.jl#L44-L59">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../examples/implicit-model/">« Implicit orthogonal regression</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.14.1 on <span class="colophon-date" title="Sunday 31 August 2025 21:13">Sunday 31 August 2025</span>. Using Julia version 1.11.6.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
